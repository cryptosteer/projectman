{% extends 'base/base.html' %}
{% load staticfiles %}
{% block titulo_ventana %} Nueva Tarea {% endblock %}
{% block titulo %} Nueva Tarea{% endblock %}
{% block subtitulo %} Crear una tarea {% endblock %}

{% block content %}
{% include 'inclusion_tags/messages.html' %}
<form role="form" method="post" novalidate>
     {% csrf_token %}
    <div class="col-md-6">
        <div class="box box-primary" id="inner-content-div">
            <div class="box-header">
                <h3 class="box-title">Datos de la tarea</h3>
            </div><!-- /.box-header -->

            <!-- form start -->
                <div class="box-body">

                     <div class="form-group {% if form.name.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.name.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.name.label }}
                        </label>
                        {{ form.name }}
                        {% if form.name.errors %}
                            <div class="ul-no-style ">{{ form.name.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.project.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.project.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.project.label }}
                        </label>
                        {{ form.project }}
                        {% if form.project.errors %}
                            <div class="ul-no-style ">{{ form.project.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.description.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.description.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.description.label }}
                        </label>
                        {{ form.description }}
                        {% if form.description.errors %}
                            <div class="ul-no-style ">{{ form.description.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.requeriments.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.requeriments.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.requeriments.label }}
                        </label>
                        {{ form.requeriments }}
                        {% if form.requeriments.errors %}
                            <div class="ul-no-style ">{{ form.requeriments.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.costs.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.costs.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.costs.label }}
                        </label>
                        {{ form.costs }}
                        {% if form.costs.errors %}
                            <div class="ul-no-style ">{{ form.costs.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.estimated_target_date.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.estimated_target_date.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.estimated_target_date.label }}
                        </label>
                        {{ form.estimated_target_date }}
                        {% if form.estimated_target_date.errors %}
                            <div class="ul-no-style ">{{ form.estimated_target_date.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.responsable.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.responsable.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.responsable.label }}
                        </label>
                        {{ form.responsable }}
                        {% if form.responsable.errors %}
                            <div class="ul-no-style ">{{ form.responsable.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.priority.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.priority.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.priority.label }}
                        </label>
                        {{ form.priority }}
                        {% if form.priority.errors %}
                            <div class="ul-no-style ">{{ form.priority.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group {% if form.state.errors %}has-error{% endif %}">
                        <label class="control-label">
                            {% if form.state.errors %}
                                <i class="fa fa-times-circle-o"></i>
                            {% endif %}
                            {{ form.state.label }}
                        </label>
                        {{ form.state }}
                        {% if form.state.errors %}
                            <div class="ul-no-style ">{{ form.state.errors }}</div>
                        {% endif %}
                    </div>

                 </div><!-- /.box-body -->
                <div class="box-footer">
                    {% block footer_form %}
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    {% endblock %}
                </div>
        </div><!-- /.box -->

    </div><!--/.col (left) -->

    {% if form.name.value != null %}
    <div class="col-md-6">
            <div class="box box-warning">
                <div class="box-header">
                    <h3 class="box-title">Expertos a asignar</h3>
                </div><!-- /.box-header -->

                <div class="box-body">
                    <div class="form-group">
                        <label>Usuarios</label>
                        <div class="clearfix"></div>
                        {{ form.usuarios_expertos }}
                    </div>
                    <hr>
                    <div class="form-group">
                        <label for="descripcion">Expertos para este proyecto</label>
                        <table class="table table-hover table-bordered table-striped" id="tabla_usuarios">
                            <thead>
                            <tr>
                                <th>Experto</th>
                            </tr>
                            </thead>
                            <tbody id="cuerpo-tabla" class="input-no-style"></tbody>
                        </table>
                    </div>
                </div><!-- /.box-body -->
            </div><!-- /.box -->

        </div><!--/.col (left) -->
    {% endif %}
</form>

{% endblock %}
{% block extrascript %}
    <script src="{% static 'dist/js/table_selectMultiple.js' %}" type="text/javascript"></script>
{% endblock %}